<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Japanese TTS Learning Assistant</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .header {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .card {
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
            transition: transform 0.2s;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .card-header {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            font-weight: bold;
            border-radius: 10px 10px 0 0 !important;
        }
        .btn-primary {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            border: none;
        }
        .btn-primary:hover {
            background: linear-gradient(135deg, #5a10b5 0%, #1464e0 100%);
        }
        .jp-text {
            font-size: 1.2rem;
            line-height: 1.8;
        }
        .romaji {
            color: #666;
            font-style: italic;
        }
        .loading {
            display: none;
            margin-top: 10px;
        }
        .audio-player {
            width: 100%;
            margin-top: 15px;
        }
        .tab-content {
            padding: 20px 0;
        }
        .nav-link {
            color: #495057;
        }
        .nav-link.active {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%) !important;
            color: white !important;
        }
        .furigana-container {
            margin: 20px 0;
            padding: 15px;
            background-color: #f1f1f1;
            border-radius: 5px;
        }
        .word-item {
            display: inline-block;
            margin-right: 10px;
            margin-bottom: 10px;
            padding: 5px 10px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .word-surface {
            font-weight: bold;
        }
        .word-reading {
            color: #6c757d;
            font-size: 0.9rem;
        }
        .word-pos {
            color: #6a11cb;
            font-size: 0.8rem;
        }
        .example-card {
            background-color: #f8f9fa;
            border-left: 4px solid #6a11cb;
            padding: 10px 15px;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="header text-center">
        <h1><i class="bi bi-translate"></i> Japanese TTS Learning Assistant</h1>
        <p class="lead">An AI-powered tool to help you learn Japanese pronunciation</p>
    </div>
    
    <div class="container">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="basic-tab" data-bs-toggle="tab" data-bs-target="#basic" type="button" role="tab" aria-controls="basic" aria-selected="true">
                    <i class="bi bi-chat-dots"></i> Basic TTS
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="translate-tab" data-bs-toggle="tab" data-bs-target="#translate" type="button" role="tab" aria-controls="translate" aria-selected="false">
                    <i class="bi bi-translate"></i> Translate & Speak
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="learning-tab" data-bs-toggle="tab" data-bs-target="#learning" type="button" role="tab" aria-controls="learning" aria-selected="false">
                    <i class="bi bi-mortarboard"></i> Learning Mode
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="examples-tab" data-bs-toggle="tab" data-bs-target="#examples" type="button" role="tab" aria-controls="examples" aria-selected="false">
                    <i class="bi bi-list-ul"></i> Example Generator
                </button>
            </li>
        </ul>
        
        <div class="tab-content" id="myTabContent">
            <!-- Basic TTS Tab -->
            <div class="tab-pane fade show active" id="basic" role="tabpanel" aria-labelledby="basic-tab">
                <div class="card">
                    <div class="card-header">
                        Japanese Text-to-Speech
                    </div>
                    <div class="card-body">
                        <p>Enter Japanese text to convert to speech:</p>
                        <div class="form-group">
                            <textarea class="form-control mb-3" id="basic-text" rows="3" placeholder="Enter Japanese text here... (e.g. こんにちは、元気ですか？)"></textarea>
                            <button class="btn btn-primary" id="basic-submit">
                                <i class="bi bi-soundwave"></i> Generate Speech
                            </button>
                            <div class="loading" id="basic-loading">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                                <span class="ms-2">Generating audio...</span>
                            </div>
                        </div>
                        <div id="basic-result" class="mt-4"></div>
                    </div>
                </div>
            </div>
            
            <!-- Translate & Speak Tab -->
            <div class="tab-pane fade" id="translate" role="tabpanel" aria-labelledby="translate-tab">
                <div class="card">
                    <div class="card-header">
                        English to Japanese Translation & Speech
                    </div>
                    <div class="card-body">
                        <p>Enter English text to translate to Japanese and convert to speech:</p>
                        <div class="form-group">
                            <textarea class="form-control mb-3" id="translate-text" rows="3" placeholder="Enter English text here... (e.g. Hello, how are you today?)"></textarea>
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="translate-model" class="form-label">LLM Model:</label>
                                    <select class="form-select" id="translate-model">
                                        <option value="phi" selected>phi</option>
                                        <option value="llama3">llama3</option>
                                        <option value="llama2">llama2</option>
                                        <option value="gemma">gemma</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check mt-4">
                                        <input class="form-check-input" type="checkbox" id="include-details" checked>
                                        <label class="form-check-label" for="include-details">
                                            Include pronunciation details
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-primary" id="translate-submit">
                                <i class="bi bi-translate"></i> Translate & Generate Speech
                            </button>
                            <div class="loading" id="translate-loading">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                                <span class="ms-2">Translating and generating audio...</span>
                            </div>
                        </div>
                        <div id="translate-result" class="mt-4"></div>
                    </div>
                </div>
            </div>
            
            <!-- Learning Mode Tab -->
            <div class="tab-pane fade" id="learning" role="tabpanel" aria-labelledby="learning-tab">
                <div class="card">
                    <div class="card-header">
                        Learning Mode with Pronunciation Guides
                    </div>
                    <div class="card-body">
                        <p>Get detailed pronunciation guides and slower speech:</p>
                        <div class="form-group">
                            <textarea class="form-control mb-3" id="learning-text" rows="3" placeholder="Enter text here... (Japanese or English)"></textarea>
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="learning-model" class="form-label">LLM Model (for translation):</label>
                                    <select class="form-select" id="learning-model">
                                        <option value="phi" selected>phi</option>
                                        <option value="llama3">llama3</option>
                                        <option value="llama2">llama2</option>
                                        <option value="gemma">gemma</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check mt-4">
                                        <input class="form-check-input" type="checkbox" id="is-english" checked>
                                        <label class="form-check-label" for="is-english">
                                            Input is English (translate first)
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-primary" id="learning-submit">
                                <i class="bi bi-mortarboard"></i> Generate Learning Materials
                            </button>
                            <div class="loading" id="learning-loading">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                                <span class="ms-2">Generating learning materials...</span>
                            </div>
                        </div>
                        <div id="learning-result" class="mt-4"></div>
                    </div>
                </div>
            </div>
            
            <!-- Examples Tab -->
            <div class="tab-pane fade" id="examples" role="tabpanel" aria-labelledby="examples-tab">
                <div class="card">
                    <div class="card-header">
                        Example Sentence Generator
                    </div>
                    <div class="card-body">
                        <p>Generate example sentences with a specific Japanese word or phrase:</p>
                        <div class="form-group">
                            <input type="text" class="form-control mb-3" id="keyword" placeholder="Enter a Japanese word (e.g. 食べる)">
                            <div class="row mb-3">
                                <div class="col-md-4">
                                    <label for="examples-model" class="form-label">LLM Model:</label>
                                    <select class="form-select" id="examples-model">
                                        <option value="phi" selected>phi</option>
                                        <option value="llama3">llama3</option>
                                        <option value="llama2">llama2</option>
                                        <option value="gemma">gemma</option>
                                    </select>
                                </div>
                                <div class="col-md-4">
                                    <label for="example-count" class="form-label">Number of examples:</label>
                                    <select class="form-select" id="example-count">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3" selected>3</option>
                                        <option value="5">5</option>
                                    </select>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-check mt-4">
                                        <input class="form-check-input" type="checkbox" id="generate-audio" checked>
                                        <label class="form-check-label" for="generate-audio">
                                            Generate audio for examples
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-primary" id="examples-submit">
                                <i class="bi bi-list-ul"></i> Generate Examples
                            </button>
                            <div class="loading" id="examples-loading">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                                <span class="ms-2">Generating example sentences...</span>
                            </div>
                        </div>
                        <div id="examples-result" class="mt-4"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <footer class="bg-light py-4 mt-5">
        <div class="container text-center">
            <p>Japanese TTS Learning Assistant &copy; 2025</p>
            <p class="text-muted">Powered by OPEA Mega-service with TensorflowTTS and gTTS</p>
        </div>
    </footer>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="app.js"></script>
</body>
</html> 